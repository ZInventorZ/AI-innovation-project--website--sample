<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edit Profile</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
  <!-- Top-left back button: tries history.back(), falls back to index.html -->
  <a class="back-btn" href="index.html" onclick="if(history.length>1){history.back();return false;}">â† Back</a>
  <header class="page-header"><div class="container"><h1>Edit Profile</h1></div></header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">AI Innovation</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="nav nav-pills ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html"><span class="nav-icon">ğŸ“ˆ</span>History</a></li>
          <li class="nav-item"><a class="nav-link" href="AI_Coach.html"><span class="nav-icon">ğŸ¤–</span>AI Coach</a></li>
          <li class="nav-item"><a class="nav-link" href="equipment.html"><span class="nav-icon">ğŸ¹</span>Equipment</a></li>
          <li class="nav-item"><a class="nav-link" href="Scores.html"><span class="nav-icon">ğŸ“Š</span>Statistics</a></li>
          <li class="nav-item"><a class="nav-link" href="score_history.html"><span class="nav-icon">ğŸ“ˆ</span>History</a></li>
          <li class="nav-item"><a class="nav-link active" href="profile_edit.html"><span class="nav-icon">ğŸ‘¤</span>Profile</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="site-main container py-4">
    <form id="profileForm" class="row g-3">
      <div class="col-12"><label class="form-label">Display Name</label><input id="p_name" class="form-control"></div>
      <div class="col-12"><label class="form-label">Email</label><input id="p_email" class="form-control" type="email"></div>
      <div class="col-6"><label class="form-label">Preferred Distance (m)</label><input id="p_distance" class="form-control" type="number"></div>
      <div class="col-6"><label class="form-label">Default Ends</label><input id="p_ends" class="form-control" type="number"></div>
      <div class="col-12"><button class="btn btn-primary" id="saveProfile">Save Profile</button></div>
    </form>
    <div id="profileStatus" class="mt-2 text-success"></div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function getProfile(){return JSON.parse(localStorage.getItem('profile')||'null');}
    function saveProfile(p){localStorage.setItem('profile',JSON.stringify(p));}
    (function(){
      const form=document.getElementById('profileForm');
      const status=document.getElementById('profileStatus');
      const existing=getProfile();
      if(existing){ document.getElementById('p_name').value=existing.name||''; document.getElementById('p_email').value=existing.email||''; document.getElementById('p_distance').value=existing.distance||''; document.getElementById('p_ends').value=existing.ends||'' }
      form.addEventListener('submit',e=>{ e.preventDefault(); const p={name:document.getElementById('p_name').value,email:document.getElementById('p_email').value,distance:Number(document.getElementById('p_distance').value)||null,ends:Number(document.getElementById('p_ends').value)||null}; saveProfile(p); status.textContent='Saved âœ“'; setTimeout(()=>status.textContent='',2000); })
    })();
  </script>
</body>
</html>